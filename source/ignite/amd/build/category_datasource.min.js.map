{"version":3,"file":"category_datasource.min.js","sources":["../src/category_datasource.js"],"sourcesContent":["// This file is part of Moodle - http://moodle.org/ //\n// Moodle is free software: you can redistribute it and/or modify\n// it under the terms of the GNU General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n//\n// Moodle is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License\n// along with Moodle.  If not, see <http://www.gnu.org/licenses/>.\n\n/*\n * Tag search\n *\n * @package    mediatimesrc_ignite\n * @copyright  2025 bdecent\n * @license    http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later\n */\n\nimport Ajax from \"core/ajax\";\nimport Notification from \"core/notification\";\n\n\n/**\n * Process the results for auto complete elements.\n *\n * @param {String} selector The selector of the auto complete element.\n * @param {Array} results An array or results.\n * @return {Array} New array of results.\n */\nconst processResults = (selector, results) => {\n    const options = [];\n\n    results.forEach(category => {\n        options.push({\n            value: category.id,\n            label: category.title\n        });\n    });\n\n    return options;\n};\n\n/**\n * Source of data for Ajax element.\n *\n * @param {String} selector The selector of the auto complete element.\n * @param {String} query The query string.\n * @param {Function} callback A callback function receiving an array of results.\n */\nconst transport = async(selector, query, callback) => {\n    const videos = await Ajax.call([{\n        methodname: 'mediatimesrc_ignite_category_search',\n        args: {\n            query: query\n        },\n        fail: Notification.exception\n    }])[0];\n\n    callback(videos);\n};\n\nexport default {\n    processResults: processResults,\n    transport: transport\n};\n"],"names":["processResults","selector","results","options","forEach","category","push","value","id","label","title","transport","async","query","callback","Ajax","call","methodname","args","fail","Notification","exception"],"mappings":";;;;;;;0LAiEe,CACXA,eAjCmB,CAACC,SAAUC,iBACxBC,QAAU,UAEhBD,QAAQE,SAAQC,WACZF,QAAQG,KAAK,CACTC,MAAOF,SAASG,GAChBC,MAAOJ,SAASK,WAIjBP,SAwBPQ,UAdcC,MAAMX,SAAUY,MAAOC,YASrCA,eARqBC,cAAKC,KAAK,CAAC,CAC5BC,WAAY,sCACZC,KAAM,CACFL,MAAOA,OAEXM,KAAMC,sBAAaC,aACnB"}